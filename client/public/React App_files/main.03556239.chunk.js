(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,t,r){},29:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var s=r(3),a=r(4),n=r(6),i=r(5),o=r(2),c=r.n(o),l=r(13),u=r.n(l),p=(r(28),r(8)),h=(r(23),r(10)),f=(r.p,r(29),r(22)),v=r.n(f),d=r(0);var j=function(e){Object(n.a)(r,e);var t=Object(i.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).onClick=function(e){for(var t=0;t<a.state.cells.length;t++){var r=a["cell"+t].current;e.target.id!=="cell"+t&&r.setState({focused:!1})}},a.state={cells:[],images:[]},a.refreshComponentEvent=a.refreshComponent.bind(Object(p.a)(a)),a}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/test").then((function(t){e.refreshComponent(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshComponent",value:function(e){for(var t=[],r=[],s=0,a=0;a<e.format.width;a++)for(var n=0;n<e.format.height;n++){var i,o=!1,l=Object(h.a)(e.images);try{for(l.s();!(i=l.n()).done;){var u=i.value;a==u.x1&&n==u.y1&&r.push({x1:u.x1+1,y1:u.y1+1,w:u.x2-u.x1,h:u.y2-u.y1}),a>=u.x1&&a<u.x2&&n>=u.y1&&n<u.y2&&(o=!0)}}catch(y){l.e(y)}finally{l.f()}if(!o){e.format.height;this["cell"+s]=c.a.createRef();var p,f=!1,v=Object(h.a)(e.cells);try{for(v.s();!(p=v.n()).done;){var j=p.value;j.x==a&&j.y==n&&(void 0!==j.letter&&t.push(Object(d.jsx)(b,{ref:this["cell"+s],id:"cell"+s,goal:j.goal,x:a+1,y:n+1,value:j.letter,arrow:j.arrow})),void 0!==j.clue&&t.push(Object(d.jsx)(b,{ref:this["cell"+s],id:"cell"+s,goal:j.goal,x:a+1,y:n+1,instruction:j.clue})),f=!0)}}catch(y){v.e(y)}finally{v.f()}f||t.push(Object(d.jsx)(b,{ref:this["cell"+s],id:"cell"+s,x:a+1,y:n+1,value:""})),s++}}this.setState({images:r,cells:t})}},{key:"render",value:function(){return Object(d.jsxs)("div",{onClick:this.onClick,className:"crossword",children:[this.state.images.map((function(e){return Object(d.jsx)(y,{x1:e.x1,y1:e.y1,w:e.w,h:e.h})})),this.state.cells]})}}]),r}(o.Component),y=function(e){Object(n.a)(r,e);var t=Object(i.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"render",value:function(){var e={"--x1":this.props.x1,"--y1":this.props.y1,"--w":this.props.w,"--h":this.props.h};return Object(d.jsx)("div",{className:"image",style:e,children:"IMG"})}}]),r}(o.Component),b=function(e){Object(n.a)(r,e);var t=Object(i.a)(r);function r(e){var a;return Object(s.a)(this,r),(a=t.call(this,e)).onClick=function(e){a.setState({focused:!0})},a.keyDown=function(e){return/[a-\xf6 ]/i.test(e.key)?(a.props.value=e.key,a.setState({focused:!1}),!0):(e.preventDefault(),e.stopPropagation(),!1)},a.state={focused:!1},a.inputRef=c.a.createRef(),a}return Object(a.a)(r,[{key:"componentDidUpdate",value:function(){var e=this.inputRef.current;null!==e&&e.focus()}},{key:"render",value:function(){var e={"--x":this.props.x,"--y":this.props.y};if(this.state.focused){var t="cell active";void 0!==this.props.goal&&(t+=" goal");var r="";if(void 0!==this.props.arrow){var s="arrow-"+this.props.arrow;r=Object(d.jsx)("div",{className:s})}return Object(d.jsxs)("div",{className:t,id:this.props.id,style:e,children:[Object(d.jsx)("input",{onKeyPress:this.keyDown,placeholder:this.props.value,ref:this.inputRef,type:"text"}),r]})}if(void 0!==this.props.instruction){return Object(d.jsx)("div",{className:"cell instruction",id:this.props.id,style:e,children:this.props.instruction})}var a="cell value";void 0!==this.props.goal&&(a+=" goal");var n="";if(void 0!==this.props.arrow){var i="arrow-"+this.props.arrow;n=Object(d.jsx)("div",{className:i})}return Object(d.jsxs)("div",{onClick:this.onClick,id:this.props.id,className:a,style:e,children:[this.props.value,n]})}}]),r}(o.Component),O=j,x=function(e){Object(n.a)(r,e);var t=Object(i.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:["HELLO WORLD",Object(d.jsx)(O,{})]})}}]),r}(c.a.Component);u.a.render(Object(d.jsx)(x,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.03556239.chunk.js.map